{% extends "base.html" %}
{% load markdownify crispy_forms_tags %}

{% block content %}
    
<h2>Preguntas</h2>

<h3 class="h3 is-main">{{ question.text|markdownify }}</h3>

    <div class="buttons is-right">
        <a href="{% url 'edit_question' pk=question.pk%}"
          class="button is-info is-rounded">✎ Editar pregunta</a>
        <a href="{% url 'new_question' %}"
          class="button is-info is-rounded">➕ Nueva pregunta</a>
        <a href="{% url 'new_answer' pk=question.pk %}"
          class="button is-warning is-rounded">➕ Añadir respuesta</a>
    </div>


<table class="table">
    <thead>
        <tr>
            <th>Id. respuesta</th>
            <th>Texto</th>
            <th>Es correcta</th>
            <th>Editar</th>
        </tr>
    </thead>
    <tbody> 
    {% for answer in answers %}
      <tr>
        <td>{{ answer.pk }}</td>
        <td>
            {% if answer.is_correct %}<b>{% endif %}
            {{ answer.text|markdownify }}
            {% if answer.is_correct %}</b>{% endif %}
        </td>
        <td>{{ answer.is_correct }}</td>
        <td>
            <a href="{% url 'edit_answer' pk=answer.pk %}"
               class="button is-warning is-circle">
            ✎ Editar
        </td>
      </tr> 
  {% endfor %}
    </tbody> 

</table>

<div class="box">
    <h3>Añadir respuesta</h3>

{% crispy form %}
</div>


{% endblock content %}
